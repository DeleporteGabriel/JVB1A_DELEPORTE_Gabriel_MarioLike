<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" /><title>Mon 3eme jeu Phaser</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js">
    </script>

    <style type="text/css"> body 
    
        { margin: 0; }
    
    </style>
</head>
<body>
<script type="text/javascript">


class sceneTest extends Phaser.Scene{
    constructor(){
        super('sceneTest');
    }

        preload(){
            this.load.image('MarcelIdle', 'assets/Marcel idle.png');
            this.load.image('plateformeTest', 'assets/plateforme test.png')
            this.load.image('background', 'assets/fond de fou.png')
        }

        create(){

            this.cursors = this.input.keyboard.createCursorKeys();

            this.add.image(4096+80, 2304+46, 'background').setScale(2.2);

            this.plateformes = this.physics.add.staticGroup();
            this.plateformes.create(800, 4000, 'plateformeTest').setSize(600, 500);
            this.plateformes.create(1400, 4000, 'plateformeTest').setSize(600, 500);
            this.plateformes.create(2000, 4000, 'plateformeTest').setSize(600, 500);
            this.plateformes.create(200, 4000, 'plateformeTest').setSize(600, 500);
            this.plateformes.create(2600, 4000, 'plateformeTest').setSize(600, 500);
            this.plateformes.create(3200, 4000, 'plateformeTest').setSize(600, 500);
            this.plateformes.create(3800, 4000, 'plateformeTest').setSize(600, 500);
            this.plateformes.create(4400, 4000, 'plateformeTest').setSize(600, 500);

            this.player = this.physics.add.sprite(800, 800, 'MarcelIdle');
            this.physics.add.collider(this.player, this.plateformes);

            this.cameras.main.zoom = 0.15;

            this.cameras.main.setBounds(0, 0, 1920, 1080);
            this.cameras.main.startFollow(this.player);
            
        };

        update(){

            if (this.cursors.left.isDown){ //si la touche gauche est appuyée
                this.player.setVelocityX(-2000); //alors vitesse négative en X
            }

            else if (this.cursors.right.isDown){ //sinon si la touche droite est appuyée
                this.player.setVelocityX(2000); //alors vitesse positive en X
            }

            else{ // sinon
                this.player.setVelocityX(0); //vitesse nulle
            }
            
        };
}



var config = {
        type: Phaser.AUTO,
        width: 1280, height: 720,
        physics: {
        default: 'arcade',
        arcade: {
        gravity: { y: 8000 },
        debug: true
        }},
        scene: [sceneTest]
        };

        new Phaser.Game(config);

</script>
</body>
    
</html>